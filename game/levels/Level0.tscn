[gd_scene load_steps=26 format=2]

[ext_resource path="res://environments/red_env.tres" type="Environment" id=1]
[ext_resource path="res://levels/Level0.gd" type="Script" id=2]
[ext_resource path="res://library/MainLibrary.tres" type="VoxelLibrarySimple" id=3]
[ext_resource path="res://gi_probes/level2.tres" type="GIProbeData" id=4]
[ext_resource path="res://particles/flake.png" type="Texture" id=5]
[ext_resource path="res://areas/ExitPortal.tscn" type="PackedScene" id=6]
[ext_resource path="res://levels/title_font.tres" type="DynamicFont" id=7]
[ext_resource path="res://levels/title_subtext_font.tres" type="DynamicFont" id=8]

[sub_resource type="VoxelChunkBlocky" id=1]
resource_name = "Chunk[-1,0,-1]"
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -16, 0, -16 )
position_x = -1
position_z = -1
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 35, 63, 1, 1, 1, 57, 0, 35, 15, 2, 0, 109, 14, 183, 0, 15, 18, 0, 0, 15, 222, 0, 84, 15, 68, 1, 255, 48, 47, 1, 1, 191, 1, 0, 15, 2, 0, 146, 14, 183, 0, 15, 18, 0, 0, 15, 136, 2, 84, 30, 2, 123, 0, 15, 2, 0, 108, 14, 145, 0, 15, 18, 0, 0, 15, 63, 3, 0, 15, 38, 0, 2, 14, 21, 0, 15, 2, 0, 63, 15, 102, 0, 83, 15, 2, 0, 26, 15, 247, 0, 81, 15, 2, 0, 58, 15, 204, 3, 128, 15, 68, 1, 106, 14, 125, 0, 15, 18, 0, 35, 15, 2, 0, 108, 14, 181, 0, 15, 2, 0, 106, 14, 143, 0, 15, 18, 0, 17, 15, 2, 0, 255, 32, 14, 86, 1, 15, 2, 0, 255, 32, 15, 68, 1, 126, 15, 145, 0, 126, 15, 2, 0, 160, 15, 68, 1, 255, 255, 255, 206, 14, 222, 3, 15, 18, 0, 14, 31, 1, 61, 12, 128, 15, 2, 0, 157, 14, 101, 1, 15, 2, 0, 255, 13, 14, 49, 1, 14, 79, 15, 14, 36, 0, 15, 2, 0, 251, 14, 32, 1, 29, 2, 33, 1, 14, 18, 0, 15, 2, 0, 255, 63, 80, 0, 0, 0, 0, 0 )

[sub_resource type="VoxelChunkBlocky" id=2]
resource_name = "Chunk[-1,-1,-1]"
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -16, -16, -16 )
position_x = -1
position_y = -1
position_z = -1
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 255, 255, 188, 47, 1, 1, 207, 2, 255, 255, 118, 15, 136, 2, 255, 50, 15, 68, 1, 255, 50, 15, 2, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 170, 15, 248, 10, 255, 50, 15, 68, 1, 255, 31, 14, 49, 1, 14, 76, 17, 15, 36, 0, 0, 15, 96, 12, 250, 14, 32, 1, 29, 2, 32, 1, 14, 18, 0, 14, 54, 0, 15, 2, 0, 233, 14, 14, 1, 14, 50, 1, 11, 18, 0, 80, 0, 0, 0, 0, 0 )

[sub_resource type="VoxelChunkBlocky" id=3]
resource_name = "Chunk[0,0,-1]"
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -16 )
position_z = -1
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 13, 31, 1, 14, 19, 255, 49, 15, 68, 1, 255, 50, 15, 2, 0, 255, 27, 80, 0, 0, 0, 0, 0 )

[sub_resource type="VoxelChunkBlocky" id=4]
resource_name = "Chunk[-1,0,0]"
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -16, 0, 0 )
position_x = -1
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 255, 255, 46, 29, 1, 64, 2, 31, 2, 18, 0, 16, 15, 2, 0, 251, 14, 68, 1, 15, 18, 0, 17, 15, 2, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 9, 80, 0, 0, 0, 0, 0 )

[sub_resource type="VoxelChunkBlocky" id=5]
resource_name = "Chunk[0,-1,-1]"
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -16, -16 )
position_y = -1
position_z = -1
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 11, 29, 1, 12, 19, 14, 18, 0, 15, 2, 0, 255, 14, 29, 2, 33, 1, 15, 68, 1, 255, 32, 14, 2, 0, 15, 68, 1, 255, 11, 80, 0, 0, 0, 0, 0 )

[sub_resource type="VoxelChunkBlocky" id=6]
resource_name = "Chunk[0,-1,0]"
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -16, 0 )
position_y = -1
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 14, 31, 1, 34, 0, 14, 15, 2, 0, 253, 29, 2, 17, 1, 15, 68, 1, 255, 32, 14, 50, 1, 14, 18, 0, 15, 2, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 8, 80, 0, 0, 0, 0, 0 )

[sub_resource type="VoxelChunkBlocky" id=7]
resource_name = "Chunk[-1,-1,0]"
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -16, -16, 0 )
position_x = -1
position_y = -1
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 248, 29, 1, 12, 1, 31, 2, 18, 0, 16, 15, 2, 0, 251, 15, 68, 1, 35, 14, 54, 0, 15, 2, 0, 233, 14, 14, 1, 15, 18, 0, 35, 15, 2, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 230, 80, 0, 0, 0, 0, 0 )

[sub_resource type="VoxelChunkBlocky" id=8]
resource_name = "Chunk[0,0,0]"
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 255, 67, 31, 1, 86, 1, 255, 49, 15, 68, 1, 255, 50, 15, 2, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 228, 80, 0, 0, 0, 0, 0 )

[sub_resource type="VoxelChunkBlocky" id=9]
resource_name = "Chunk[-1,0,-2]"
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -16, 0, -32 )
position_x = -1
position_z = -2
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 220, 29, 1, 223, 17, 44, 1, 1, 21, 0, 15, 18, 0, 0, 0, 57, 0, 9, 38, 0, 13, 36, 0, 61, 1, 2, 1, 20, 0, 0, 39, 0, 26, 1, 55, 0, 1, 19, 0, 0, 26, 0, 3, 2, 0, 0, 30, 0, 0, 4, 0, 9, 2, 0, 9, 34, 0, 33, 0, 2, 18, 0, 10, 20, 0, 1, 53, 0, 11, 56, 0, 15, 36, 0, 0, 0, 147, 0, 0, 45, 0, 15, 2, 0, 76, 12, 156, 0, 15, 2, 0, 149, 14, 29, 1, 15, 18, 0, 0, 15, 68, 1, 83, 15, 102, 0, 83, 15, 2, 0, 64, 15, 50, 1, 0, 13, 102, 0, 14, 154, 2, 15, 2, 0, 67, 15, 136, 2, 244, 80, 0, 0, 0, 0, 0 )

[sub_resource type="VoxelChunkBlocky" id=10]
resource_name = "Chunk[0,0,-2]"
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -32 )
position_z = -2
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 197, 80, 0, 0, 0, 0, 0 )

[sub_resource type="VoxelChunkBlocky" id=11]
resource_name = "Chunk[-1,-1,-2]"
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -16, -16, -32 )
position_x = -1
position_y = -1
position_z = -2
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 135, 31, 1, 135, 20, 255, 255, 42, 80, 0, 0, 0, 0, 0 )

[sub_resource type="VoxelChunkBlocky" id=12]
resource_name = "Chunk[-2,0,-1]"
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -32, 0, -16 )
position_x = -2
position_z = -1
size_x = 16
size_y = 16
size_z = 16
data_size_x = 18
data_size_y = 18
data_size_z = 18
margin_start = 1
margin_end = 1
library = ExtResource( 3 )
channel_count = 1
data_channel = PoolByteArray( 31, 0, 1, 0, 255, 255, 255, 255, 255, 255, 235, 29, 1, 249, 6, 15, 18, 0, 35, 15, 2, 0, 233, 14, 50, 1, 29, 2, 15, 1, 14, 18, 0, 14, 54, 0, 14, 18, 0, 15, 2, 0, 17, 14, 54, 0, 14, 18, 0, 15, 2, 0, 143, 14, 180, 0, 14, 50, 1, 14, 18, 0, 14, 54, 0, 15, 2, 0, 53, 15, 90, 0, 71, 15, 2, 0, 71, 14, 180, 0, 15, 18, 0, 35, 15, 2, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 174, 80, 0, 0, 0, 0, 0 )

[sub_resource type="Gradient" id=13]

[sub_resource type="GradientTexture" id=14]
gradient = SubResource( 13 )

[sub_resource type="ParticlesMaterial" id=15]
emission_shape = 2
emission_box_extents = Vector3( 70, 70, 70 )
gravity = Vector3( 0, -0.4, 0 )
initial_velocity_random = 0.15
angular_velocity = 16.55
angular_velocity_random = 0.51
radial_accel = -0.05
radial_accel_random = 0.37
scale = 0.4
color_ramp = SubResource( 14 )
hue_variation = 0.48
hue_variation_random = 0.09
anim_speed = 44.14
anim_offset = 0.07

[sub_resource type="SpatialMaterial" id=16]
flags_transparent = true
vertex_color_use_as_albedo = true
params_specular_mode = 4
params_billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false
albedo_texture = ExtResource( 5 )

[sub_resource type="QuadMesh" id=17]
material = SubResource( 16 )

[node name="Level0" type="VoxelWorldBlocky"]
editable = true
max_concurrent_generations = 5
library = ExtResource( 3 )
chunks = [ SubResource( 1 ), SubResource( 2 ), SubResource( 3 ), SubResource( 4 ), SubResource( 5 ), SubResource( 6 ), SubResource( 7 ), SubResource( 8 ), SubResource( 9 ), SubResource( 10 ), SubResource( 11 ), SubResource( 12 ) ]
script = ExtResource( 2 )
__meta__ = {
"_edit_lock_": true
}

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 1 )

[node name="GIProbe" type="GIProbe" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8.53486, 2.91956, -10.1021 )
extents = Vector3( 16.5585, 7.39551, 12.7828 )
dynamic_range = 8
interior = true
data = ExtResource( 4 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.969817, 0.22762, -0.0874344, 0, 0.35858, 0.933499, 0.243835, -0.905323, 0.347757, 0, 5.5679, -6.05193 )
light_color = Color( 0.47451, 0.352941, 0.607843, 1 )
light_energy = 0.31
shadow_enabled = true

[node name="DirectionalLight2" type="DirectionalLight" parent="."]
transform = Transform( 0.902848, -0.382056, -0.197228, 0, -0.458712, 0.888585, -0.42996, -0.802257, -0.414147, 0, 5.5679, -6.94149 )
light_color = Color( 0.682353, 0.145098, 0.145098, 1 )
light_energy = 0.17
shadow_enabled = true

[node name="OmniLight" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.33566, 8.78919, -13.4252 )
light_color = Color( 0.894118, 0.894118, 0.894118, 1 )
light_energy = 1.17
light_negative = true
shadow_enabled = true
omni_range = 7.3664
omni_attenuation = 2.0
omni_shadow_mode = 0

[node name="OmniLight2" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8.18059, 1.65957, -15.6395 )
light_color = Color( 0.141176, 0.427451, 0.552941, 1 )
light_energy = 2.55
light_indirect_energy = 5.47
light_specular = 0.61
omni_range = 8.88538
omni_attenuation = 1.1487

[node name="OmniLight3" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -17.2802, 1.65957, -7.3639 )
light_color = Color( 0.462745, 0.0980392, 0.380392, 1 )
light_energy = 2.55
light_indirect_energy = 5.47
light_specular = 0.61
omni_range = 8.88538
omni_attenuation = 1.1487

[node name="OmniLight4" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8.53726, 4.41136, -7.73945 )
light_color = Color( 0.164706, 0.054902, 0.690196, 1 )
light_energy = 2.55
light_indirect_energy = 5.47
light_specular = 0.61
omni_range = 8.88538
omni_attenuation = 0.406128

[node name="OmniLight5" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.674599, 2.49094, 1.27345 )
light_color = Color( 0.372549, 0.572549, 0.705882, 1 )
light_energy = 0.83
light_indirect_energy = 5.47
light_negative = true
light_specular = 0.61
omni_range = 7.6254
omni_attenuation = 0.70711

[node name="Particles" type="Particles" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -10.1743, 5.65334, -9.91923 )
amount = 50
lifetime = 8.41
speed_scale = 4.44
randomness = 0.38
visibility_aabb = AABB( -61.9632, -36.4177, -64.4469, 123.926, 72.8355, 128.894 )
process_material = SubResource( 15 )
draw_pass_1 = SubResource( 17 )

[node name="ExitPortal" parent="." instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -21.9693, 3.02528, -9.99266 )

[node name="Texts" type="MarginContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VBoxContainer" type="VBoxContainer" parent="Texts"]
margin_right = 1024.0
margin_bottom = 600.0

[node name="Container" type="MarginContainer" parent="Texts/VBoxContainer"]
margin_right = 1024.0
margin_bottom = 397.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 4.88

[node name="Label" type="Label" parent="Texts/VBoxContainer/Container"]
margin_top = 168.0
margin_right = 1024.0
margin_bottom = 228.0
custom_fonts/font = ExtResource( 7 )
text = "The Tower"
align = 1
valign = 1

[node name="Label2" type="Label" parent="Texts/VBoxContainer"]
margin_top = 401.0
margin_right = 1024.0
margin_bottom = 425.0
custom_fonts/font = ExtResource( 8 )
text = "Press ENTER to begin"
align = 1
valign = 1

[node name="Control2" type="Control" parent="Texts/VBoxContainer"]
margin_top = 429.0
margin_right = 1024.0
margin_bottom = 600.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 2.1

[node name="Camera" type="Camera" parent="."]
transform = Transform( 0.666715, 0, 0.745313, 0, 1, 0, -0.745313, 0, 0.666715, 0, 6.15975, -5.948 )
